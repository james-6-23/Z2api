# Z2API Go优化版 环境配置示例
# 复制此文件为 .env 并修改相应的值

# 基础配置
DEFAULT_KEY=your-api-key-here
UPSTREAM_URL=https://chat.z.ai/api/chat/completions
UPSTREAM_TOKEN=your-upstream-token-here

# 性能配置
PERFORMANCE_MODE=balanced          # fast/balanced/secure
MAX_RETRIES=3                     # 最大重试次数
RETRY_DELAY=1000                  # 重试延迟(ms)
REQUEST_TIMEOUT=120000            # 请求超时(ms)
STREAM_TIMEOUT=300000             # 流式超时(ms)
RANDOM_DELAY_MIN=100              # 随机延迟最小值(ms)
RANDOM_DELAY_MAX=500              # 随机延迟最大值(ms)

# 并发控制配置
MAX_CONCURRENT_CONNECTIONS=1000   # 最大并发连接数
CONNECTION_QUEUE_SIZE=500         # 连接队列大小
MAX_CONNECTION_TIME=600000        # 最大连接时间(ms)
MEMORY_LIMIT_MB=2048              # 内存限制(MB)

# 流处理优化配置
STREAM_BUFFER_SIZE=16384          # 流缓冲区大小(bytes)
DISABLE_CONNECTION_CHECK=false    # 禁用连接检测
CONNECTION_CHECK_INTERVAL=20      # 连接检测间隔

# 功能配置
ANON_TOKEN_ENABLED=true           # 启用匿名token
THINK_TAGS_MODE=think             # 思考标签模式: think/strip/raw
DEBUG_MODE=false                  # 调试模式
ENABLE_METRICS=true               # 启用性能监控

# 日志配置
ENABLE_DETAILED_LOGGING=true      # 启用详细日志
LOG_USER_MESSAGES=false           # 记录用户消息
LOG_RESPONSE_CONTENT=false        # 记录响应内容
